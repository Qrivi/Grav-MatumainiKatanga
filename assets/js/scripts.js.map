{"version":3,"sources":["scripts.js"],"names":["header","document","querySelector","scrollPos","window","addEventListener","scrollY","classList","remove","add","toggle","body","getBoundingClientRect","top","Array","from","querySelectorAll","forEach","link","event","preventDefault","getAttribute","scrollIntoView","behavior","allPosts","yearPosts","noPosts","morePosts","filterInput","filterDelay","filterDebounce","noPostsDebounce","hasFiltered","loadedPosts","resetPosts","clearTimeout","setTimeout","filterPosts","location","search","includes","value","match","replace","amount","parseInt","isNaN","style","visibility","post","index","showPost","searchParams","URLSearchParams","delete","set","history","pushState","pathname","toString","checkPosts","length","textContent","toUpperCase","hidePost","contains","every","title","nextElementSibling"],"mappings":"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","file":"scripts.js","sourceRoot":"src","sourcesContent":["// Sticky header if necessary\nconst header = document.querySelector('body > header');\nlet scrollPos = 0;\nwindow.addEventListener('scroll', () => {\n    if (window.scrollY < 300) {\n        header.classList.remove('invert');\n    } else {\n        header.classList.add('invert');\n        header.classList.toggle('hidden', document.body.getBoundingClientRect().top < scrollPos);\n    }\n    scrollPos = (document.body.getBoundingClientRect()).top;\n});\n\n// Smooth scrolling for internal links.\nArray.from(document.querySelectorAll('a[href*=\"#\"]:not([href=\"#\"])'))\n    .forEach(link => link.addEventListener('click', function (event) {\n        event.preventDefault();\n        header.classList.add('hidden');\n        document.querySelector(link.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });\n    }, false));\n\n// Activity filtering\nconst allPosts = document.querySelectorAll(\"ul.postlist li\");\nconst yearPosts = document.querySelectorAll(\"#activiteiten h3.year-posts\");\nconst noPosts = document.querySelector(\"#activiteiten p.no-posts\");\nconst morePosts = document.querySelector(\"#activiteiten a.more-posts\");\nconst filterInput = document.querySelector(\"#filter\");\nconst filterDelay = 100;\nlet filterDebounce = null;\nlet noPostsDebounce = null;\nlet hasFiltered = false;\nlet loadedPosts = 6;\n\nif (morePosts)\n    morePosts.addEventListener('click', () => {\n        resetPosts(loadedPosts + 3);\n    });\n\nif (filterInput)\n    filterInput.addEventListener('input', () => {\n        if (filterDebounce)\n            window.clearTimeout(filterDebounce);\n        hasFiltered = true;\n        filterDebounce = window.setTimeout(filterPosts, 1000);\n    });\n\nif (window.location.search.includes('filter=')) {\n    filterInput.value = window.location.search.match(/filter=(.*)/)[1].replace(/\\+/g, ' ');\n    filterPosts();\n} else if (window.location.search.includes('activiteiten=')) {\n    const amount = parseInt(window.location.search.match(/activiteiten=(.*)/)[1]);\n    if (isNaN(amount)) amount = 6;\n    resetPosts(amount);\n}\n\nfunction resetPosts(amount) {\n    loadedPosts = amount;\n    morePosts.style.visibility = 'visible';\n\n    Array.from(allPosts)\n        .forEach((post, index) => {\n            if (index < amount)\n                showPost(post);\n            else\n                post.classList.add('hidden');\n        });\n    if ('URLSearchParams' in window) {\n        const searchParams = new URLSearchParams(window.location.search);\n        searchParams.delete('filter');\n        searchParams.set('activiteiten', loadedPosts);\n        history.pushState(null, '', window.location.pathname + '?' + searchParams.toString());\n    }\n\n    checkPosts();\n}\n\nfunction filterPosts() {\n    if (morePosts && !filterInput.value.length)\n        return resetPosts(6);\n    if (morePosts)\n        morePosts.style.visibility = 'hidden';\n\n    Array.from(allPosts)\n        .forEach(post => {\n            if (post.textContent.toUpperCase().includes(filterInput.value.toUpperCase()))\n                showPost(post);\n            else\n                hidePost(post);\n        });\n    if ('URLSearchParams' in window && hasFiltered) {\n        const searchParams = new URLSearchParams(window.location.search);\n        searchParams.delete('activiteiten');\n        searchParams.set('filter', filterInput.value);\n        history.pushState(null, '', window.location.pathname + '?' + searchParams.toString());\n    }\n\n    checkPosts();\n}\n\nfunction hidePost(post) {\n    if (!post.classList.contains('hidden')) {\n        post.classList.add('hiding');\n        window.setTimeout(() => {\n            post.classList.add('hidden');\n        }, 800);\n    }\n}\n\nfunction showPost(post) {\n    if (post.classList.contains('hidden')) {\n        post.classList.remove('hidden');\n        post.classList.add('hiding');\n        window.setTimeout(() => {\n            post.classList.remove('hiding');\n        }, 10);\n    }\n}\n\nfunction checkPosts() {\n    if (noPostsDebounce)\n        window.clearTimeout(noPostsDebounce);\n    noPostsDebounce = window.setTimeout(() => {\n        noPosts.classList.toggle('hidden', !Array.from(allPosts)\n            .every(post => post.classList.contains('hidden'))\n        );\n\n        if (yearPosts) {\n            Array.from(yearPosts).forEach(title => {\n                title.classList.toggle('hidden', Array.from(title.nextElementSibling.querySelectorAll('li'))\n                    .every(post => post.classList.contains('hidden'))\n                );\n            })\n        };\n    }, 1000);\n}\n"]}