{"version":3,"sources":["scripts.js"],"names":["header","document","querySelector","scrollPos","window","addEventListener","scrollY","classList","remove","add","body","getBoundingClientRect","top","Array","from","querySelectorAll","forEach","link","event","preventDefault","getAttribute","scrollIntoView","behavior","allPosts","morePosts","filterInput","filterDelay","filterDebounce","hasFiltered","loadedPosts","resetPosts","clearTimeout","setTimeout","filterPosts","location","search","includes","value","match","replace","amount","parseInt","isNaN","style","visibility","post","index","showPost","searchParams","URLSearchParams","set","history","pushState","pathname","toString","length","textContent","toUpperCase","hidePost","contains"],"mappings":";AA8GC,SAAA,EAAA,GAAA,MAAA,IAAA,MAAA,IAAA,EAAA,kBA7GD,IAAMA,EAASC,SAASC,cAAc,iBAClCC,EAAY,EAChBC,OAAOC,iBAAiB,SAAU,WAC1BD,OAAOE,QAAU,IACjBN,EAAOO,UAAUC,OAAO,WAExBR,EAAOO,UAAUE,IAAI,UAEjBR,SAASS,KAAKC,wBAAwBC,IAAMT,EAC5CH,EAAOO,UAAUE,IAAI,UAErBT,EAAOO,UAAUC,OAAO,WAEhCL,EAAaF,SAASS,KAAKC,wBAAyBC,MAIxDC,MAAMC,KAAKb,SAASc,iBAAiB,iCAChCC,QAAQ,SAAAC,GAAQA,OAAAA,EAAKZ,iBAAiB,QAAS,SAAUa,GACtDA,EAAMC,iBACNnB,EAAOO,UAAUE,IAAI,UACrBR,SAASC,cAAce,EAAKG,aAAa,SAASC,eAAe,CAAEC,SAAU,aAC9E,KAGP,IAAMC,EAAWtB,SAASc,iBAAiB,kBACrCS,EAAYvB,SAASC,cAAc,8BACnCuB,EAAcxB,SAASC,cAAc,WACrCwB,EAAc,IAChBC,EAAiB,KACjBC,GAAc,EACdC,EAAc,EAelB,GAbIL,GACAA,EAAUnB,iBAAiB,QAAS,WAChCyB,EAAWD,EAAc,KAG7BJ,GACAA,EAAYpB,iBAAiB,QAAS,WAC9BsB,GACAvB,OAAO2B,aAAaJ,GACxBC,GAAc,EACdD,EAAiBvB,OAAO4B,WAAWC,EAAa,OAGpD7B,OAAO8B,SAASC,OAAOC,SAAS,WAChCX,EAAYY,MAAQjC,OAAO8B,SAASC,OAAOG,MAAM,eAAe,GAAGC,QAAQ,MAAO,KAClFN,SACG,GAAI7B,OAAO8B,SAASC,OAAOC,SAAS,iBAAkB,CACnDI,IAAAA,EAASC,SAASrC,OAAO8B,SAASC,OAAOG,MAAM,qBAAqB,IACtEI,MAAMF,KAAkB,EAAA,UAATA,EAAS,GAC5BV,EAAWU,GAGf,SAASV,EAAWU,GAUZ,GATJX,EAAcW,EACdhB,EAAUmB,MAAMC,WAAa,UAC7B/B,MAAMC,KAAKS,GACNP,QAAQ,SAAC6B,EAAMC,GACRA,EAAQN,EACRO,EAASF,GAETA,EAAKtC,UAAUE,IAAI,YAE3B,oBAAqBL,OAAQ,CACvB4C,IAAAA,EAAe,IAAIC,gBAAgB7C,OAAO8B,SAASC,QACzDa,EAAaE,IAAI,eAAgBrB,GACjCsB,QAAQC,UAAU,KAAM,GAAIhD,OAAO8B,SAASmB,SAAW,IAAML,EAAaM,aAIlF,SAASrB,IACDT,GAAAA,IAAcC,EAAYY,MAAMkB,OAChC,OAAOzB,EAAW,GAWlB,GAVAN,IACAA,EAAUmB,MAAMC,WAAa,UAEjC/B,MAAMC,KAAKS,GACNP,QAAQ,SAAA6B,GACDA,EAAKW,YAAYC,cAAcrB,SAASX,EAAYY,MAAMoB,eAC1DV,EAASF,GAETa,EAASb,KAEjB,oBAAqBzC,QAAUwB,EAAa,CACtCoB,IAAAA,EAAe,IAAIC,gBAAgB7C,OAAO8B,SAASC,QACzDa,EAAaE,IAAI,SAAUzB,EAAYY,OACvCc,QAAQC,UAAU,KAAM,GAAIhD,OAAO8B,SAASmB,SAAW,IAAML,EAAaM,aAIlF,SAASI,EAASb,GACTA,EAAKtC,UAAUoD,SAAS,YACzBd,EAAKtC,UAAUE,IAAI,UACnBL,OAAO4B,WAAW,WACda,EAAKtC,UAAUE,IAAI,WACpB,MAIX,SAASsC,EAASF,GACVA,EAAKtC,UAAUoD,SAAS,YACxBd,EAAKtC,UAAUC,OAAO,UACtBqC,EAAKtC,UAAUE,IAAI,UACnBL,OAAO4B,WAAW,WACda,EAAKtC,UAAUC,OAAO,WACvB","file":"scripts.js","sourceRoot":"src","sourcesContent":["// Sticky header if necessary\nconst header = document.querySelector('body > header');\nlet scrollPos = 0;\nwindow.addEventListener('scroll', () => {\n    if (window.scrollY < 300) {\n        header.classList.remove('invert');\n    } else {\n        header.classList.add('invert');\n\n        if (document.body.getBoundingClientRect().top < scrollPos)\n            header.classList.add('hidden');\n        else\n            header.classList.remove('hidden');\n    }\n    scrollPos = (document.body.getBoundingClientRect()).top;\n});\n\n// Smooth scrolling for internal links.\nArray.from(document.querySelectorAll('a[href*=\"#\"]:not([href=\"#\"])'))\n    .forEach(link => link.addEventListener('click', function (event) {\n        event.preventDefault();\n        header.classList.add('hidden');\n        document.querySelector(link.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });\n    }, false));\n\n// Activity filtering\nconst allPosts = document.querySelectorAll(\"ul.postlist li\");\nconst morePosts = document.querySelector(\"#activiteiten a.more-posts\");\nconst filterInput = document.querySelector(\"#filter\");\nconst filterDelay = 100;\nlet filterDebounce = null;\nlet hasFiltered = false;\nlet loadedPosts = 6;\n\nif (morePosts)\n    morePosts.addEventListener('click', () => {\n        resetPosts(loadedPosts + 3);\n    });\n\nif (filterInput)\n    filterInput.addEventListener('input', () => {\n        if (filterDebounce)\n            window.clearTimeout(filterDebounce);\n        hasFiltered = true;\n        filterDebounce = window.setTimeout(filterPosts, 1000);\n    });\n\nif (window.location.search.includes('filter=')) {\n    filterInput.value = window.location.search.match(/filter=(.*)/)[1].replace(/\\+/g, ' ');\n    filterPosts();\n} else if (window.location.search.includes('activiteiten=')) {\n    const amount = parseInt(window.location.search.match(/activiteiten=(.*)/)[1]);\n    if (isNaN(amount)) amount = 6;\n    resetPosts(amount);\n}\n\nfunction resetPosts(amount) {\n    loadedPosts = amount;\n    morePosts.style.visibility = 'visible';\n    Array.from(allPosts)\n        .forEach((post, index) => {\n            if (index < amount)\n                showPost(post);\n            else\n                post.classList.add('hidden');\n        });\n    if ('URLSearchParams' in window) {\n        const searchParams = new URLSearchParams(window.location.search);\n        searchParams.set('activiteiten', loadedPosts);\n        history.pushState(null, '', window.location.pathname + '?' + searchParams.toString());\n    }\n}\n\nfunction filterPosts() {\n    if (morePosts && !filterInput.value.length)\n        return resetPosts(6);\n    if (morePosts)\n        morePosts.style.visibility = 'hidden';\n\n    Array.from(allPosts)\n        .forEach(post => {\n            if (post.textContent.toUpperCase().includes(filterInput.value.toUpperCase()))\n                showPost(post);\n            else\n                hidePost(post);\n        });\n    if ('URLSearchParams' in window && hasFiltered) {\n        const searchParams = new URLSearchParams(window.location.search);\n        searchParams.set('filter', filterInput.value);\n        history.pushState(null, '', window.location.pathname + '?' + searchParams.toString());\n    }\n}\n\nfunction hidePost(post) {\n    if (!post.classList.contains('hidden')) {\n        post.classList.add('hiding');\n        window.setTimeout(() => {\n            post.classList.add('hidden');\n        }, 800);\n    }\n}\n\nfunction showPost(post) {\n    if (post.classList.contains('hidden')) {\n        post.classList.remove('hidden');\n        post.classList.add('hiding');\n        window.setTimeout(() => {\n            post.classList.remove('hiding');\n        }, 10);\n    }\n}\n"]}